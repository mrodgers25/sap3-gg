{"ast":null,"code":"document.addEventListener(\"turbolinks:load\", function () {\n  $(\"body\").on('click', '.save-story-link', function (event) {\n    event.preventDefault();\n    var id = this.id;\n    var linksDiv = $(this).parent();\n    var taglineDiv = $(\".tagline-div-\" + id);\n    var saveStoryWrapper = $(\".save-story-link-\" + id);\n    var statusText = $(\".status-text-\" + id);\n    var isStoryShowPage = $(\".story-show\").length !== 0;\n    $.ajax({\n      url: '/stories/' + id + '/save',\n      method: 'post',\n      contentType: 'application/json'\n    }).done(function (data) {\n      if (data['success']) {\n        // remove link\n        saveStoryWrapper.remove(); // remove status text\n\n        statusText.remove(); // append story saved text and forget btn\n\n        if (isStoryShowPage) {// taglineDiv.append(\"<hr class='saved-text-hr-\" + id +\"'><p class='story-saved-text saved-text-\" + id +\" text-center'><i class='fas fa-check-square mr-1'></i> Story Saved</p>\");\n        } else {// taglineDiv.prepend(\"<p class='story-saved-text saved-text-\" + id + \" text-center'><i class='fas fa-check-square mr-1'></i> Story Saved</p><hr class='saved-text-hr-\" + id + \"'>\");\n          }\n\n        linksDiv.append(\"<p class='m-auto forget-story-link forget-story-link-\" + id + \"' id=\" + id + \"><a href='javascript: void(0)' id=\" + id + \" class='btn btn-sm btn-outline-dark grid-item-forget-story-\" + id + \"'><i class='fas fa-times mr-1'></i> Forget Story</a></p>\"); // success text\n        // linksDiv.append(\"<p class='status-text-\" + id + \" success-\" + data['success'] + \"'>\" + data['message'] + \"</p>\");\n      } else {\n        linksDiv.append(\"<p class='status-text-\" + id + \" success-\" + data['success'] + \"'>\" + data['message'] + \"</p>\");\n      }\n\n      ;\n    });\n  });\n});","map":{"version":3,"sources":["/Users/kekoa428/Projects/work/sap/sap3-gg/app/javascript/js/save_story.js"],"names":["document","addEventListener","$","on","event","preventDefault","id","linksDiv","parent","taglineDiv","saveStoryWrapper","statusText","isStoryShowPage","length","ajax","url","method","contentType","done","data","remove","append"],"mappings":"AACAA,QAAQ,CAACC,gBAAT,CAA0B,iBAA1B,EAA6C,YAAY;AACvDC,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAUC,EAAV,CAAa,OAAb,EAAsB,kBAAtB,EAA0C,UAAUC,KAAV,EAAiB;AACzDA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,EAAE,GAAG,KAAKA,EAAd;AACA,QAAIC,QAAQ,GAAGL,CAAC,CAAC,IAAD,CAAD,CAAQM,MAAR,EAAf;AACA,QAAIC,UAAU,GAAGP,CAAC,CAAC,kBAAkBI,EAAnB,CAAlB;AACA,QAAII,gBAAgB,GAAGR,CAAC,CAAC,sBAAsBI,EAAvB,CAAxB;AACA,QAAIK,UAAU,GAAGT,CAAC,CAAC,kBAAkBI,EAAnB,CAAlB;AACA,QAAIM,eAAe,GAAGV,CAAC,CAAC,aAAD,CAAD,CAAiBW,MAAjB,KAA4B,CAAlD;AAEAX,IAAAA,CAAC,CAACY,IAAF,CAAO;AACLC,MAAAA,GAAG,EAAE,cAAcT,EAAd,GAAmB,OADnB;AAELU,MAAAA,MAAM,EAAE,MAFH;AAGLC,MAAAA,WAAW,EAAE;AAHR,KAAP,EAKGC,IALH,CAKQ,UAAUC,IAAV,EAAgB;AACpB,UAAIA,IAAI,CAAC,SAAD,CAAR,EAAqB;AACnB;AACAT,QAAAA,gBAAgB,CAACU,MAAjB,GAFmB,CAGnB;;AACAT,QAAAA,UAAU,CAACS,MAAX,GAJmB,CAKnB;;AACA,YAAIR,eAAJ,EAAqB,CACnB;AACD,SAFD,MAEO,CACL;AACD;;AACDL,QAAAA,QAAQ,CAACc,MAAT,CAAgB,0DAA0Df,EAA1D,GAA+D,OAA/D,GAAwEA,EAAxE,GAA4E,oCAA5E,GAAmHA,EAAnH,GAAwH,6DAAxH,GAAuLA,EAAvL,GAA2L,0DAA3M,EAXmB,CAYnB;AACA;AACD,OAdD,MAcO;AACLC,QAAAA,QAAQ,CAACc,MAAT,CAAgB,2BAA2Bf,EAA3B,GAAgC,WAAhC,GAA8Ca,IAAI,CAAC,SAAD,CAAlD,GAAgE,IAAhE,GAAuEA,IAAI,CAAC,SAAD,CAA3E,GAAyF,MAAzG;AACD;;AAAA;AACF,KAvBH;AAwBD,GAjCD;AAkCD,CAnCD","sourcesContent":["\ndocument.addEventListener(\"turbolinks:load\", function () {\n  $(\"body\").on('click', '.save-story-link', function (event) {\n    event.preventDefault();\n    let id = this.id;\n    let linksDiv = $(this).parent();\n    let taglineDiv = $(\".tagline-div-\" + id);\n    let saveStoryWrapper = $(\".save-story-link-\" + id);\n    let statusText = $(\".status-text-\" + id);\n    let isStoryShowPage = $(\".story-show\").length !== 0;\n\n    $.ajax({\n      url: '/stories/' + id + '/save',\n      method: 'post',\n      contentType: 'application/json',\n    })\n      .done(function (data) {\n        if (data['success']) {\n          // remove link\n          saveStoryWrapper.remove();\n          // remove status text\n          statusText.remove();\n          // append story saved text and forget btn\n          if (isStoryShowPage) {\n            // taglineDiv.append(\"<hr class='saved-text-hr-\" + id +\"'><p class='story-saved-text saved-text-\" + id +\" text-center'><i class='fas fa-check-square mr-1'></i> Story Saved</p>\");\n          } else {\n            // taglineDiv.prepend(\"<p class='story-saved-text saved-text-\" + id + \" text-center'><i class='fas fa-check-square mr-1'></i> Story Saved</p><hr class='saved-text-hr-\" + id + \"'>\");\n          }\n          linksDiv.append(\"<p class='m-auto forget-story-link forget-story-link-\" + id + \"' id=\"+ id +\"><a href='javascript: void(0)' id=\" + id + \" class='btn btn-sm btn-outline-dark grid-item-forget-story-\"+ id +\"'><i class='fas fa-times mr-1'></i> Forget Story</a></p>\");\n          // success text\n          // linksDiv.append(\"<p class='status-text-\" + id + \" success-\" + data['success'] + \"'>\" + data['message'] + \"</p>\");\n        } else {\n          linksDiv.append(\"<p class='status-text-\" + id + \" success-\" + data['success'] + \"'>\" + data['message'] + \"</p>\");\n        };\n      })\n  })\n});\n"]},"metadata":{},"sourceType":"module"}